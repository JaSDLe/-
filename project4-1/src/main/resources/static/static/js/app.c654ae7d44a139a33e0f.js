webpackJsonp([6],{"1Baj":function(e,t,r){e.exports=r.p+"static/img/p33.c26a055.jpg"},"49zg":function(e,t,r){e.exports=r.p+"static/img/p1.46e9edb.jpg"},"6y3Y":function(e,t,r){e.exports=r.p+"static/img/p2.3f6eb53.jpg"},"7e8j":function(e,t){},"FJN/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{imagesbox:[{id:0,idView:r("49zg")},{id:1,idView:r("6y3Y")},{id:2,idView:r("GGuQ")}]}}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticStyle:{"margin-top":"50px"}},[t("el-carousel",{attrs:{arrow:"always",trigger:"click",interval:"1500","indicator-position":"outside",width:"960px",height:"320px"}},this._l(this.imagesbox,function(e){return t("el-carousel-item",{key:e.id},[t("img",{attrs:{src:e.idView,fit:"contain"}})])}),1)],1)])},staticRenderFns:[]};var i=r("VU/8")(n,o,!1,function(e){r("qB8t")},null,null);t.default=i.exports},GGuQ:function(e,t,r){e.exports=r.p+"static/img/p3.678f92f.jpg"},HM3T:function(e,t){},J7IX:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=r("VU/8")({name:"App"},o,!1,function(e){r("7e8j")},null,null).exports,s=r("/ocq"),a=r("lO7g"),l=r("xJsL"),u=r("FJN/");n.default.use(s.a);var d=new s.a({routes:[{path:"/",name:"Login",component:l.default},{path:"/home",name:"home",component:a.default,meta:{requireAuth:!0}},{path:"/welcome",name:"welcome",component:u.default,meta:{requireAuth:!0}}]}),c=r("zL8q"),m=r.n(c),p=(r("tvR6"),r("mvHQ")),f=r.n(p),h=r("NYxO");n.default.use(h.a);var g=new h.a.Store({state:{user:{id:null==window.sessionStorage.getItem("user")?"":JSON.parse(window.sessionStorage.getItem("user")).id,name:null==window.sessionStorage.getItem("user")?"未登录":JSON.parse(window.sessionStorage.getItem("user")).name,username:null==window.sessionStorage.getItem("user")?"":JSON.parse(window.sessionStorage.getItem("user")).username,roles:null==window.sessionStorage.getItem("user")?"":JSON.parse(window.sessionStorage.getItem("user")).roles},routes:[]},mutations:{initMenu:function(e,t){e.routes=t},login:function(e,t){e.user=t,window.sessionStorage.setItem("user",f()(t))},logout:function(e){window.sessionStorage.removeItem("user"),e.routes=[]}}}),y=r("//Fk"),v=r.n(y),w=r("mtWM"),x=r.n(w);x.a.interceptors.request.use(function(e){return e},function(e){return c.Message.error({message:"请求超时!"}),v.a.resolve(e)}),x.a.interceptors.response.use(function(e){if(!e.status||200!=e.status||500!=e.data.status)return e.data.msg&&c.Message.success({message:e.data.msg}),e;c.Message.error({message:e.data.msg})},function(e){return 504==e.response.status||404==e.response.status?c.Message.error({message:"服务器未启动或请求的路径不存在！"}):403==e.response.status?(c.Message.error({message:"权限不足,请联系管理员!"}),d.push("/")):401==e.response.status?c.Message.error({message:e.response.data.msg}):e.response.data.msg?c.Message.error({message:e.response.data.msg}):c.Message.error({message:"未知错误!"}),v.a.resolve(e)});var b=function(e){return x()({method:"get",url:""+e})},_=function e(t){var n=[];return t.forEach(function(t){var o=t.path,i=t.component,s=t.name,a=t.children,l=t.meta;a&&a instanceof Array&&(a=e(a));var u={path:o,component:function(e){i.startsWith("Home")?r.e(0).then(function(){var t=[r("2eoi")("./"+i+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):i.startsWith("Adm")?r.e(4).then(function(){var t=[r("Awkx")("./"+i+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):i.startsWith("Off")?r.e(2).then(function(){var t=[r("WF/C")("./"+i+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):i.startsWith("Tea")?r.e(3).then(function(){var t=[r("BN87")("./"+i+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe):i.startsWith("Stu")&&r.e(1).then(function(){var t=[r("ZR46")("./"+i+".vue")];e.apply(null,t)}.bind(this)).catch(r.oe)},name:s,children:a,meta:l};n.push(u)}),n};n.default.config.productionTip=!1,n.default.use(m.a),n.default.prototype.getRequest=b,n.default.prototype.postRequest=function(e,t){return x()({method:"post",url:""+e,data:t,transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},n.default.prototype.deleteRequest=function(e){return x()({method:"delete",url:""+e})},n.default.prototype.putRequest=function(e,t){return x()({method:"put",url:""+e,data:t,transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},n.default.prototype.isNotNullORBlank=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0;n<t.length;n++){var o=t[n];if(null==o||""==o||void 0==o)return c.Message.warning({message:"数据不能为空!"}),!1}return!0},d.beforeEach(function(e,t,r){var n,o;"Login"!=e.name?"未登录"==g.state.user.name?e.meta.requireAuth||null==e.name?r({path:"/",query:{redirect:e.path}}):r():(n=d,(o=g).state.routes.length>0||b("/config/sysmenu").then(function(e){if(e&&200==e.status){var t=_(e.data);n.addRoutes(t),o.commit("initMenu",t)}}),r()):r()}),new n.default({el:"#app",router:d,store:g,components:{App:i},template:"<App/>"})},TQZL:function(e,t,r){e.exports=r.p+"static/img/p11.5f254ab.jpg"},VCsZ:function(e,t,r){e.exports=r.p+"static/img/p22.0ae7bc7.jpg"},lO7g:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={components:{welcome:r("FJN/").default},data:function(){var e=this;return{dialogTitle:"",dialogVisible:!1,myuser:{username:"",name:"",role:"",oldpassword:"",newpassword:"",checkPass:""},rules:{oldpassword:[{validator:function(e,t,r){""===t||null==t?r(new Error("请输入原密码")):r()},trigger:"blur"}],newpassword:[{validator:function(t,r,n){""===r||null==r?n(new Error("请输入新密码")):e.$refs.updateUserForm.validateField("checkPass"),n()},trigger:"blur"}],checkPass:[{validator:function(t,r,n){""===r||null==r?n(new Error("请再次输入新密码")):r!==e.myuser.newpassword?n(new Error("两次输入密码不一致!")):n()},trigger:"blur"}]}}},computed:{user:function(){return this.$store.state.user},routes:function(){return this.$store.state.routes}},methods:{handleCommand:function(e){var t=this;"logout"==e?this.$confirm("注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.getRequest("/logout"),t.$store.commit("logout"),t.$router.replace({path:"/"})}).catch(function(){t.$message({type:"info",message:"取消"})}):"me"==e&&(this.myuser.username=this.user.username,this.myuser.name=this.user.name,this.myuser.role=this.user.roles[0].nameZh,this.dialogTitle="个人中心",this.dialogVisible=!0)},editUser:function(e){var t=this,r=this;this.$refs[e].validate(function(e){e&&t.putRequest("/config/change/password?id="+t.user.id+"&oldPass="+t.myuser.oldpassword+"&newPass="+t.myuser.newpassword).then(function(e){e&&200==e.status&&(r.dialogVisible=!1,r.cancelEidt())})})},handleDialogClose:function(e){this.cancelEidt(),e()},cancelEidt:function(){this.dialogVisible=!1,this.$refs.updateUserForm.resetFields()}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-container",{staticClass:"home-container"},[r("el-header",{staticClass:"home-header"},[r("span",{staticClass:"home_title"},[e._v("课程过程化考核管理系统")]),e._v(" "),r("div",{staticStyle:{display:"flex","align-items":"center","margin-right":"7px"}},[r("el-dropdown",{on:{command:e.handleCommand}},[r("span",{staticClass:"el-dropdown-link home_userinfo el-icon-user-solid",staticStyle:{display:"flex","align-items":"center","font-size":"20px","margin-right":"20px"}},[e._v(e._s(e.user.name))]),e._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{staticStyle:{"font-size":"20px"},attrs:{icon:"el-icon-setting",command:"me"}},[e._v("个人中心")]),e._v(" "),r("el-dropdown-item",{staticStyle:{"font-size":"20px"},attrs:{icon:"el-icon-switch-button",command:"logout",divided:""}},[e._v("注销")])],1)],1)],1)]),e._v(" "),r("el-container",[r("el-aside",{staticClass:"home-aside",attrs:{width:"180px"}},[r("div",{staticStyle:{display:"flex","justify-content":"flex-start",width:"180px","text-align":"left"}},[r("el-menu",{staticStyle:{width:"180px"},attrs:{"unique-opened":"",router:""}},[e._l(this.routes,function(t,n){return[r("el-submenu",{key:n,attrs:{index:n+""}},[r("template",{slot:"title"},[r("span",{staticStyle:{"font-size":"20px"},attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t){return r("el-menu-item",{key:t.path,staticStyle:{"padding-left":"30px","padding-right":"0px","margin-left":"0px",width:"170px","text-align":"left","font-size":"20px"},attrs:{width:"180px",index:t.path}},[r("i",{staticClass:"el-icon-caret-right"}),e._v("\n                  "+e._s(t.name)+"\n                ")])})],2)]})],2)],1)]),e._v(" "),r("el-main",[r("el-breadcrumb",{staticStyle:{"font-size":"20px"},attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[e._v("首页")]),e._v(" "),r("el-breadcrumb-item",{domProps:{textContent:e._s(this.$router.currentRoute.name)}})],1),e._v(" "),r("keep-alive",[this.$route.meta.keepAlive?r("router-view"):e._e()],1),e._v(" "),this.$route.meta.keepAlive?e._e():r("router-view"),e._v(" "),"/home"==this.$route.path?r("welcome"):e._e()],1)],1)],1),e._v(" "),r("el-dialog",{staticStyle:{padding:"0"},attrs:{title:e.dialogTitle,visible:e.dialogVisible,"close-on-click-modal":!1,"before-close":e.handleDialogClose,top:"8vh",width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"updateUserForm",staticStyle:{margin:"0px",padding:"0px"},attrs:{model:e.myuser,rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名:",prop:"username"}},[r("el-input",{attrs:{disabled:""},model:{value:e.myuser.username,callback:function(t){e.$set(e.myuser,"username","string"==typeof t?t.trim():t)},expression:"myuser.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"姓名:",prop:"name"}},[r("el-input",{attrs:{disabled:""},model:{value:e.myuser.name,callback:function(t){e.$set(e.myuser,"name","string"==typeof t?t.trim():t)},expression:"myuser.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"身份:",prop:"role"}},[r("el-input",{attrs:{disabled:""},model:{value:e.myuser.role,callback:function(t){e.$set(e.myuser,"role","string"==typeof t?t.trim():t)},expression:"myuser.role"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"原密码",prop:"oldpassword"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入原密码",clearable:"","show-password":""},model:{value:e.myuser.oldpassword,callback:function(t){e.$set(e.myuser,"oldpassword","string"==typeof t?t.trim():t)},expression:"myuser.oldpassword"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"新密码",prop:"newpassword"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入新密码",clearable:"","show-password":""},model:{value:e.myuser.newpassword,callback:function(t){e.$set(e.myuser,"newpassword","string"==typeof t?t.trim():t)},expression:"myuser.newpassword"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password",placeholder:"请再次输入新密码",clearable:"","show-password":""},model:{value:e.myuser.checkPass,callback:function(t){e.$set(e.myuser,"checkPass","string"==typeof t?t.trim():t)},expression:"myuser.checkPass"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.cancelEidt()}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.editUser("updateUserForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var i=r("VU/8")(n,o,!1,function(e){r("J7IX")},"data-v-39588a90",null);t.default=i.exports},m7hO:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"SIdentify",props:{identifyCode:{type:String,default:"1234"},fontSizeMin:{type:Number,default:16},fontSizeMax:{type:Number,default:40},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:112},contentHeight:{type:Number,default:38}},methods:{randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},randomColor:function(e,t){return"rgb("+this.randomNum(e,t)+","+this.randomNum(e,t)+","+this.randomNum(e,t)+")"},drawPic:function(){var e=document.getElementById("s-canvas").getContext("2d");e.textBaseline="bottom",e.fillStyle=this.randomColor(this.backgroundColorMin,this.backgroundColorMax),e.fillRect(0,0,this.contentWidth,this.contentHeight);for(var t=0;t<this.identifyCode.length;t++)this.drawText(e,this.identifyCode[t],t);this.drawLine(e),this.drawDot(e)},drawText:function(e,t,r){e.fillStyle=this.randomColor(this.colorMin,this.colorMax),e.font=this.randomNum(this.fontSizeMin,this.fontSizeMax)+"px SimHei";var n=(r+1)*(this.contentWidth/(this.identifyCode.length+1)),o=this.randomNum(this.fontSizeMax,this.contentHeight-5),i=this.randomNum(-45,45);e.translate(n,o),e.rotate(i*Math.PI/180),e.fillText(t,0,0),e.rotate(-i*Math.PI/180),e.translate(-n,-o)},drawLine:function(e){for(var t=0;t<8;t++)e.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),e.beginPath(),e.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),e.stroke()},drawDot:function(e){for(var t=0;t<100;t++)e.fillStyle=this.randomColor(0,255),e.beginPath(),e.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),e.fill()}},watch:{identifyCode:function(){this.drawPic()}},mounted:function(){this.drawPic()}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"s-canvas"},[t("canvas",{attrs:{id:"s-canvas",width:this.contentWidth,height:this.contentHeight}})])},staticRenderFns:[]},i=r("VU/8")(n,o,!1,null,null,null);t.default=i.exports},qB8t:function(e,t){},tvR6:function(e,t){},xJsL:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={components:{SIdentify:r("m7hO").default},data:function(){var e=this;return{imagesbox:[{id:0,idView:r("TQZL")},{id:1,idView:r("VCsZ")},{id:2,idView:r("1Baj")}],ruleForm:{username:"",password:"",verifycode:""},rules:{username:[{validator:function(e,t,r){if(!t)return r(new Error("请输入用户名"));r()},trigger:"blur"}],password:[{validator:function(e,t,r){""===t?r(new Error("请输入密码")):r()},trigger:"blur"}],verifycode:[{validator:function(t,r,n){""===r?n(new Error("请输入验证码")):r!==e.identifyCode?n(new Error("验证码错误")):n()},trigger:"blur"}]},loading:!1,identifyCodes:"1234567890",identifyCode:""}},mounted:function(){this.identifyCode="",this.makeCode(this.identifyCode,4)},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){e&&(t.loading=!0,t.postRequest("/login",{username:t.ruleForm.username,password:t.ruleForm.password}).then(function(e){if(t.loading=!1,e&&200==e.status){var r=e.data;t.$store.commit("login",r.obj);var n=t.$route.query.redirect;t.$router.replace({path:"/"==n||void 0==n?"/home":n})}}))})},randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(e,t){for(var r=0;r<t;r++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)];console.log(this.identifyCode)}}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page",staticStyle:{margin:"-8px",position:"absolute",width:"100%",height:"100%"}},[r("div",{staticStyle:{margin:"50px auto",width:"90%",padding:"35px 35px 15px 35px"}},[r("el-container",[r("el-header",[r("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap","text-align":"left"}},[r("span",{staticStyle:{"font-family":"'方正姚体 Bold', '方正姚体'","font-size":"60px",color:"#023A64",padding:"20px","font-weight":"bold"}},[e._v("课程过程化考核管理系统")])])]),e._v(" "),r("el-main",{staticStyle:{"margin-top":"150px"}},[r("div",{staticStyle:{display:"flex","justify-content":"space-around","flex-wrap":"wrap"}},[r("div",{staticStyle:{"margin-top":"7px",width:"800px"}},[r("el-carousel",{attrs:{arrow:"always",trigger:"click",interval:"1500",height:"400px"}},e._l(e.imagesbox,function(e){return r("el-carousel-item",{key:e.id},[r("img",{attrs:{src:e.idView,fit:"contain"}})])}),1)],1),e._v(" "),r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"ruleForm",staticClass:"login-container",attrs:{model:e.ruleForm,rules:e.rules}},[r("h3",{staticClass:"login_title",staticStyle:{color:"#023A64"}},[e._v("登录")]),e._v(" "),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text",autocomplete:"on",placeholder:"用户名","prefix-icon":"el-icon-user",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username","string"==typeof t?t.trim():t)},expression:"ruleForm.username"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"密码","prefix-icon":"el-icon-key",clearable:"","show-password":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password","string"==typeof t?t.trim():t)},expression:"ruleForm.password"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"verifycode"}},[r("el-input",{staticStyle:{width:"260px",float:"left"},attrs:{type:"text",placeholder:"请输入验证码","prefix-icon":"el-icon-s-claim",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.ruleForm.verifycode,callback:function(t){e.$set(e.ruleForm,"verifycode","string"==typeof t?t.trim():t)},expression:"ruleForm.verifycode"}}),e._v(" "),r("span",{staticStyle:{float:"right","margin-right":"5px"},on:{click:e.refreshCode}},[r("s-identify",{attrs:{identifyCode:e.identifyCode}})],1)],1),e._v(" "),r("el-form-item",[r("div",{staticClass:"identifybox"},[r("div",{on:{click:e.refreshCode}},[r("s-identify",{attrs:{identifyCode:e.identifyCode}})],1),e._v(" "),r("el-button",{staticClass:"textbtn",staticStyle:{color:"#023A64","margin-top":"-60px"},attrs:{type:"text"},on:{click:e.refreshCode}},[e._v("看不清,换一张")])],1)]),e._v(" "),r("el-form-item",{staticStyle:{margin:"-40px auto 0px auto"}},[r("el-button",{staticStyle:{margin:"-60px auto 0px auto"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)])],1)],1)])},staticRenderFns:[]};var i=r("VU/8")(n,o,!1,function(e){r("HM3T")},"data-v-7b50bd98",null);t.default=i.exports}},["NHnr"]);
//# sourceMappingURL=app.c654ae7d44a139a33e0f.js.map